<h2>Introduction</h2>
<p>
    In this semester, we have a course called "System Softrware", this is the first time I was exposed to assmbly language. I was so excited because I could write the basic assembly language. And then I think, Why don't I make an assmbly language myself!<br />
    Here's the beginning of HIC.
</p>

<h2>HIC and the "Executer"</h2>
<p>
    To create a real assembly language, we may need to design a new CPU or machine, that's a quite difficult task. So, what we are going to do is to make an "executer" to simulate how a real computer works.<br />
    This executer will parse and run our assembly language named "HIC". (This name is from "SIC/EX" in the book <a href="https://www.amazon.co.jp/System-Software-Introduction-Systems-Programming/dp/0201423006" target="_blank">System Software</a>.)
</p>
<p>
    First, we need to design the syntax of HIC. Like most assembly language, HIC needs some instructions like <code>ADD</code>, <code>SUB</code>, <code>MUL</code>, <code>DIV</code>, <code>JLT</code>, etc. To keep our assembly simple, we just use the basic instructions:
</p>

```
VAL $a <value>     # Assign $a = <value>

ADD $a $b          # Assign $a = $a + $b
SUB $a $b
MUL $a $b
DIV $a $b

JEQ $a $b <label> # Jump to <label> if $a == $b
JNQ $a $b <label>
JLT $a $b <label>
JLE $a $b <label>

LAB <label>        # Assign a label
MSG $a             # Print value of $a on the screen
IPT $a             # Input a value and assign $a = input value
END                # End the program
```

<p>
    Here are the all instructions in HIC.<br />
    For example, if you want to write a loop to add 1 to 10 numbers and print the result, you can do this with the following HIC code:
</p>

```
# Assign $a and $b
VAL $a 1
VAL $b 1

# Assign the label
LAB SUM

ADD $a $b
ADD $b 1

# If $b is less than 10, then jump to label "SUM"
JLT $b 10 SUM

# Print the result
MSG $a
```

<p>
    Now, our HIC assembly language is almost done. The next step is to parse each line in HIC file and execute them.
</p>
<p>
    What the executer does is just to read the instructions line by line and execute immediatly. This is quite simple, for example, if we have the instruction:
</p>

```
VAL $a 10
```

<p>
    We just need a Python dict and say that, the value of key $a is an integer 10.<br />
    Or:
</p>

```
ADD $a 1
```

<p>
    In this case, we need to get the value of $a in a python dict and add 10 to it, then save the new value back to the dict.
</p>
<p>
    Follow this concept, we can write the executer. (You can find the whole source of executer on my <a href="https://github.com/91d906h4/HIC/blob/master/v3/executer%20v3.py" target="_blank">GitHub</a>.)
</p>

<h2>HyLang</h2>
<p>
    Now we have the executer to simulate the executoin of assembly, the next step is to design a compiler which will translate our high-level programming language into HIC.
</p>
<p>
    The basic concept of HyLang compiler is as same as the executer. Let's see some examples:
</p>

```
var a = 10;
var b = 'Hello!';
```

<p>
    This is similar to the instruction <code>VAL</code> in HIC. So, we can translate them into:
</p>

```
VAL $a 10
VAL $b 'Hello!'
```

<p>
    But how about the for-loop? Fist, we need to design a for-loop in HyLang:
</p>

```
for(var i = 1, i < 10, i += 1){
    print(i);
}
```

<p>
    As you can see, the structure of for-loop is:
</p>

```
for(<initialization of the starting value>, <stopping condition>, <what to do in the end of each loop>){...}
```

<p>
    And the HIC code will be:
</p>

```
VAL $i 1 # <initialization of the starting value>

LAB FOR_LOOP # Assign a label

MSG $i # Something to do in the loop

ADD $i 1 # <what to do in the end of each loop>

JLT $i 10 FOR_LOOP # <stopping condition>
```

<p>
    There's a pattern to follow to translate the high-level programming language into assmebly language.<br />
    And we will not talk too many details about how to do that. (You can see the details on my <a href="https://github.com/91d906h4/HIC/blob/master/v3/assembler%20v3.py" target="_blank">GitHub</a>.)
</p>

<h2>Syntax</h2>

<h3>Comment</h3>

<p>
    Like Python, HyLang use the <code>#</code> to comment the code.
</p>

```
# This is a comment is HyLang.
```

<h3>Variables</h3>

<p>
    There are four types (integer, string, float, and list) in HyLang. You can use the keyword <code>var</code> to declare a new variable.
</p>

```
var name = '91d906h4';
var age = 20;
var f = 10.5;
var new_f = f;
var arr = [1, 2, 3, 4, 5];
```

<h3>If Else</h3>

<p>
    There is no difference in <code>if</code>, <code>else</code> statement between HyLang and other programming languages. You can use <code>if</code>, <code>else</code> combination or just one <code>if</code>.
</p>

```
# Example 1

var time = 19;

if(time >= 18){
    print('こんばんは！');
}
else{
    print('こんにちは！');
}

# Output:
# こんばんは！
```

```
# Example 2

input(name);

if(name == '91d906h4'){
    print('わ、私、ですか...');
}
```

<h3>For Loop</h3>

<p>
    In HyLang, the conditions of for loop in split by a <code>,</code> (comma), not by a <code>;</code> (semicolon).
</p>

```
for(var i = 0, i <= 10, i += 1){
    print(i);
}

# Output:
# 0
# 1
# .
# .
# .
# 10
```

<h3>Cal</h3>

<p>
    In HyLang, any types of operation must start with <code>cal</code> keyword. And there can only be at most one operator in a <code>col</code> statement.
</p>

```
# Example 1

var hoge = 1;
cal hoge = hoge + 1;
print(hoge);

# Output:
# 2
```

```
# Example 2

var fuga = 'Hello';
cal fuga = fuga + ' World!';
print(fuga);

# Output:
# Hello World!
```

<h3>While Loop</h3>

```
var counter = 1;

while(counter < 10){
    cal counter = counter * 2;
    print(counter);
}

# Output:
# 2
# 4
# 8
# 16
```

<h3>Input</h3>

<p>
    You can use <code>input()</code> function to get the input from the user.
</p>

```
var greeting = 'Hello! ';
input(name);
cal greeting += name;
print(greeting);

# Input:
# John

# Output:
# Hello! John
```

<h2>Remarks</h2>
<p>
    Required Python packages:
    <ul>
        <li>os</li>
        <li>sys</li>
        <li>random</li>
        <li>string</li>
        <li>copy</li>
    </ul>
    Recommanded Python version:
    <ul>
        <li>>= 3.11</li>
    </ul>
</p>

<h2>References</h2>
<p>
    <ul>
        <li>HIC - <a href="https://github.com/91d906h4/HIC" target="_blank">https://github.com/91d906h4/HIC</a></li>
    </ul>
</p>